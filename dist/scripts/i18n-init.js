!function(){const t="fincapao_language";let n=localStorage.getItem(t)||"en",e={};async function o(t){try{const n=await fetch(`/locales/${t}/translation.json`);if(!n.ok)throw new Error(`Failed to load ${t} translations`);e[t]=await n.json()}catch(t){console.error("Error loading translations:",t)}}function a(t){const o=t.split(".");let a=e[n];for(const n of o){if(!a||"object"!=typeof a||!(n in a))return t;a=a[n]}return a||t}function c(){document.querySelectorAll("[data-i18n]").forEach(t=>{const n=a(t.getAttribute("data-i18n"));"META"!==t.tagName?"true"===t.getAttribute("data-i18n-html")?t.innerHTML=n:t.textContent=n:t.setAttribute("content",n)}),document.documentElement.lang=n,localStorage.setItem(t,n)}function i(t){t!==n&&(n=t,e[t]?c():o(t).then(()=>c()))}async function l(){e[n]||await o(n);const t="es"===n?"en":"es";e[t]||o(t),c(),function(){const t=document.getElementById("lang-es"),n=document.getElementById("lang-en");t&&t.addEventListener("click",()=>{i("es"),s()});n&&n.addEventListener("click",()=>{i("en"),s()});s()}()}function s(){const t=document.getElementById("lang-es"),e=document.getElementById("lang-en");t&&t.classList.toggle("active","es"===n),e&&e.classList.toggle("active","en"===n)}window.i18n={init:l,setLanguage:i,getCurrentLanguage:function(){return n},getTranslation:a},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",l):l()}();