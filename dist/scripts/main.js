document.addEventListener("DOMContentLoaded",()=>{console.log("scripts/main.js cargado"),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){const t=this.getAttribute("href").slice(1),o=document.getElementById(t);if(o){e.preventDefault(),o.scrollIntoView({behavior:"smooth",block:"start"});const t=document.querySelector(".navbar-links"),n=document.querySelector(".navbar-toggle");t&&t.classList.contains("active")&&(t.classList.remove("active"),n.classList.remove("active"))}})});const e=document.getElementById("mobileToggle"),t=document.querySelector(".navbar-links");e&&e.addEventListener("click",()=>{e.classList.toggle("active"),t.classList.toggle("active")}),window.addEventListener("scroll",()=>{e&&e.classList.contains("active")&&(e.classList.remove("active"),t.classList.remove("active"))});const o=document.getElementById("videoModal"),n=document.getElementById("modalVideoFrame"),c=document.querySelector(".modal-close"),s=document.querySelector(".play-btn"),a=document.querySelector(".floating-video");function l(){const e=a.getAttribute("data-video-id");e&&n&&o&&(n.src=`https://www.youtube.com/embed/${e}?autoplay=1`,o.style.display="flex",o.classList.add("active"),document.body.style.overflow="hidden")}function r(){o.style.display="none",o.classList.remove("active"),n.src="",document.body.style.overflow="auto"}a&&a.addEventListener("click",l),s&&s.addEventListener("click",e=>{e.stopPropagation(),l()}),c&&c.addEventListener("click",r),o&&o.addEventListener("click",e=>{e.target===o&&r()}),gsap.registerPlugin(ScrollTrigger);document.getElementById("step-display");const i=document.querySelector(".step-digit"),d=document.querySelectorAll(".mission-step");d.length>0&&d.forEach((e,t)=>{const o=t+1,n=e.querySelector(".step-content");ScrollTrigger.create({trigger:e,start:"top center",end:"bottom center",onEnter:()=>{gsap.to(i,{textContent:o,duration:.3,ease:"power2.out",snap:{textContent:1}}),gsap.fromTo(n,{opacity:0,y:30},{opacity:1,y:0,duration:.6,ease:"power2.out"})},onLeaveBack:()=>{if(t>0){d[t-1];const e=t;gsap.to(i,{textContent:e,duration:.3,ease:"power2.out",snap:{textContent:1}})}}})});const u=document.querySelector(".about-floating-slider .slider-track"),g=document.querySelectorAll(".about-floating-slider .dot");let m=0;function v(e){u&&(m=e,u.style.transform=`translateX(-${e*(100/g.length)}%)`,g.forEach((t,o)=>{t.classList.toggle("active",o===e)}))}if(u&&g.length>0){let e=setInterval(()=>{m=(m+1)%g.length,v(m)},4e3);g.forEach((t,o)=>{t.addEventListener("click",()=>{clearInterval(e),v(o)})})}});